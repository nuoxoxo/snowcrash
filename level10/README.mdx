# 10

Login

```b
Login

> ssh level19@$(ifconfig|grep 'inet '|awk 'NR==2 {print $2}') -p 4242
> Password: s5cAJpM8ev6XHw998pRWG728z
```

2 files, regular stuff

```b
> ls -l
-rwsr-sr-x+ 1 flag10 level10 10817 level10
-rw-------  1 flag10 flag10     26 token

> cat token
cat: token: Permission denied

> ./level10
./level10 file host
	sends file to host if you have access to it

> ./level10 token localhost
You don't have access to ./token
```

ltrace

```b
> ltrace ./level10 token localhost
__libc_start_main(0x80486d4, 3, 0xbffff7d4, 0x8048970, 0x80489e0 <unfinished ...>
access("token", 4)                                         = -1
^^^^^^ ðŸŸ¡ 
printf("You don't have access to %s\n", "token"You don't have access to token
)           = 31
+++ exited (status 31) +++
```

`access` - check if user has permissions for a file
- we don't have permission for `token`
- touch a file of our own, try again

```b
> ./level10 /tmp/tmp localhost
Connecting to localhost:6969 .. Unable to connect to host localhost

> ltrace ./level10 /tmp/tmp localhost
__libc_start_main(0x80486d4, 3, 0xbffff7d4, 0x8048970, 0x80489e0 <unfinished ...>
access("/tmp/tmp", 4)                                      = 0
printf("Connecting to %s:6969 .. ", "localhost")           = 32
                         ^^^^ ðŸŸ¡ 
fflush(0xb7fd1a20Connecting to localhost:6969 .. )         = 0
                                         ^^^^ ðŸŸ¡ 
```

